@{
	var loggedIn = (User != null && User.Identity != null && User.Identity.IsAuthenticated);
	var name = (loggedIn ? User!.Identity!.Name : string.Empty);
}<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Newt</title>
    <link rel="stylesheet" href="~/site.css" asp-append-version="true" />
</head>
<body>
    <header>
        <h1><strong>Newt</strong> Administration</h1>
        <nav>
            <a asp-controller="Home" asp-action="Index">Home</a>
@if (loggedIn)
{
            <a asp-controller="Home" asp-action="Logout" class="danger">Sign Out</a>
            <span>|</span>
            {{ #tables }}
            <a asp-controller="{{ classnameplural }}" asp-action="Index">{{ classnameplural }}</a>
            {{ /tables }}
}
else
{
            <a asp-controller="Home" asp-action="Login">Sign In</a>
}
        </nav>
    </header>
    <main>
        @RenderBody()
    </main>
    <footer>
        Generated by <a href="https://github.com/kcartlidge/newt" target="newt">Newt</a>.
    </footer>

    @await RenderSectionAsync("Scripts", required: false)
    <script>
        var ls = document.links;
        for (var i = 0, ln = ls.length; i < ln; i++) {
            if (ls[i].hostname != window.location.hostname) {
                ls[i].target = "_blank";
                ls[i].title = "Opens in a new tab/window";
            }
        }
    </script>
</body>
</html>
